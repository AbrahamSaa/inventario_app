<div class="row">
  <div class="col-lg-12 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">
        <div>
          <p class="card-title">
            Almacenes de {{selectedCompany}}

            <button class="btn btn-success float-right" data-toggle="modal" data-target="#newWarehouse" ng-click="setEditMode()">Agregar almacen</button>
          </p>
        </div>
        
        <div class="table-responsive">
          <table class="table table-hover" ng-show="warehouses.length > 0">
            <thead>
              <tr>
                <th>Dirección</th>
                <th>Ciudad</th>
                <th>Editar</th>
                <th>Ver en mapa</th>
                <th>Eliminar</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="warehouse in warehouses">
                <td>{{warehouse.dir}}</td>
                <td>{{warehouse.city}}</td>
                <td><button class="btn btn-warning btn-block" ng-click="editWarehouse(warehouse._id)">Editar</button></td>
                <td><button class="btn btn-primary btn-block" ng-click="openMap(warehouse._id)">Ver mapa</button></td>
                <td><button class="btn btn-danger btn-block" ng-click="deleteWarehouseModal(warehouse._id)">Eliminar</button></td>
              </tr>
            </tbody>
          </table>
          <div ng-show="warehouses.length == 0" style="text-align: center;"><h1>Aun no hay almacenes</h1></div>
        </div>

        <div class="modal fade" id="newWarehouse" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" >
        <div class="modal-dialog" role="document">
          <div class="modal-content" style="background: white">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Agregar almacen</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <form ng-submit="addWarehouse()">
              <div class="modal-body">
                <div class="alert alert-warning" ng-hide="editMode==true">Atención este almacen se agregara a <b>{{selectedCompany}}</b></div>
                  <div class="form-group">
                    <label class="control-label" for="name">Dirección:</label>
                    <input type="text" placeholder="Dirección" title="Ingrese Dirección del almacen" required class="form-control formEmployee" ng-model="dir">
                  </div>
                  <div class="form-group">
                    <label class="control-label" for="name">Numero:</label>
                    <input type="number" placeholder="Numero del lugar" title="Ingrese el numero de la calle" required class="form-control formEmployee" ng-model="number">
                  </div>
                  <div class="form-group">
                    <label class="control-label" for="name">Colonia:</label>
                    <input type="text" placeholder="Colonia del almacen" title="Ingrese la colonia" required class="form-control formEmployee" ng-model="housing">
                  </div>
                  <div class="form-group">
                    <label class="control-label" for="name">Ciudad:</label>
                    <input type="text" placeholder="Ciudad" title="Ingrese la ciudad" required class="form-control formEmployee" ng-model="city">
                  </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                <button type="submit" class="btn btn-primary" ng-hide="editMode==true">Agregar almacen</button>
                <button type="submit" class="btn btn-primary" ng-show="editMode==true">Editar almacen</button>
              </div>
            </form>
          </div>
        </div>
      </div>


      <div class="modal fade" id="deleteWarehouse" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" >
        <div class="modal-dialog" role="document">
          <div class="modal-content" style="background: white">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Atención</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
              <div class="modal-body">
                 <h4>Estas a punto de borrar un almacen seguro que desea eliminar al almacen</h4>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-danger"  ng-click="deleteWarehouse()">Eliminar</button>
              </div>
            </form>
          </div>
        </div>
      </div>


      </div>
    </div>
  </div>
</div>